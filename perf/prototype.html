<!doctype html>
<html>
<head>
  <title>prototype performance</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prototype/1.7.3/prototype.min.js"></script>
  <link rel="stylesheet" href="../css/normalize.css">
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <script>
    var counter = 0
    function test() {
      var idx,
        time = 0,
        body = $$('body')[0],
        result = $('result'),
        before
      for(idx = 0; idx < 100000; ++idx) {
        before = (new Date()).getTime()
        body.insert('<div id=test-div>Here is some content</div>')
        time += ((new Date()).getTime() - before)
        $('test-div').remove()
      }
      var avg = (((parseFloat(result.innerHTML) || 0) * counter) + time) / (++counter)
      result.innerHTML = avg.toFixed(3) + 'ms'
    }
  </script>
  <h3>Prototype 1.7</h3>
  <button type=button onclick="test(event);">run</button>
  <span id=result></span>
</body>
</html>
