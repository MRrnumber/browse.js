!function(e,t){function n(e){return e&&o(e)?e.$_?e.$_:new i(e):null}function i(e){this.element=e,this.element.$_=this}function o(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function r(e){for(var t=0;t<this.length;++t)e(this[t],t,this)}function s(e){for(var t=0;t<this.length;++t)if(!e(this[t],t,this))return}function l(e){e.remove?e.remove():e.parentNode.removeChild(e)}function a(e,t,n){try{return e.insertAdjacentHTML(t,n),!0}catch(e){return!!e.message.match(N)}}function c(e,t){try{e.innerHTML=t}catch(e){}}function u(e,t,n){e?t.insertBefore(n,e):t.appendChild(n)}function d(){return window.scrollX||window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft}function f(){return window.scrollY||window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function m(e,t,n){e.addEventListener?e.addEventListener(n,t):e.attachEvent("on"+n,function(){t.apply(e,arguments)})}function h(e){var t;return document.createEvent?(t=document.createEvent("Event"),t.initEvent(e,!0,!0)):document.createEventObject?(t=document.createEventObject(),t.type=e):t=new Event(e),t.synthetic=!0,t}function p(e){var t;if(C.cancelable="mousemove"!==e,document.createEvent)t=document.createEvent("MouseEvents"),t.initMouseEvent(e,C.bubbles,C.cancelable,C.view,C.detail,C.screenX,C.screenY,C.clientX,C.clientY,C.ctrlKey,C.altKey,C.shiftKey,C.metaKey,C.button,/^(mouseover|mouseout)$/.test(e)?document.body.parentNode:null);else if(document.createEventObject){t=document.createEventObject(),t.type=e;for(var n in C)t[n]=C[n]}else t=new MouseEvent(e,C);return t.synthetic=!0,t}function y(e,t){e.dispatchEvent?e.dispatchEvent(t):e.fireEvent&&e.fireEvent("on"+t.type,t)}function v(e){window.requestAnimationFrame&&window.requestAnimationFrame(e)||setTimeout(e,A)}function w(){var e=document.body.getBoundingClientRect(),t=parseInt($_(document.body).style("margin-left")),i=parseInt($_(document.body).style("margin-top"));t||(t=0),i||(i=0),n.capabilities.adjustOffsetY=("top"in e?e.top:e.y)+f()-i,n.capabilities.adjustOffsetX=("left"in e?e.left:e.x)+d()-t}function E(){var e=window.scrollX||window.pageXOffset,t=window.scrollY||window.pageYOffset;window.scrollTo(0,0);var i=document.createElement("div");i.innerHTML="<div id=test-absolute style=position:absolute;left:-800px></div>",document.body.appendChild(i);var o=document.getElementById("test-absolute"),r=o.getBoundingClientRect(),s=("left"in r?r.left:r.x)-n.capabilities.adjustOffsetX;n.capabilities.absolutePosition=s===-800,i.parentNode.removeChild(i),window.scrollTo(e,t)}function g(){var e=window.scrollX||window.pageXOffset,t=window.scrollY||window.pageYOffset;window.scrollTo(100,100);var i=document.createElement("div");i.innerHTML="<div id=test-fixed style=position:fixed;left:-800px></div>",document.body.appendChild(i);var o=document.getElementById("test-fixed"),r=o.getBoundingClientRect(),s=("left"in r?r.left:r.x)-n.capabilities.adjustOffsetX;n.capabilities.fixedPosition=s===-800,i.parentNode.removeChild(i),window.scrollTo(e,t)}n.functions=n.prototype,i.prototype=n.prototype,e=window.$_=n,Array.prototype.forEach=Array.prototype.forEach||r,Array.prototype.every=Array.prototype.every||s,Array.prototype.indexOf=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Array.prototype.remove=function(e,t){var n=this.indexOf(e);-1!==n&&this.splice(n,t||1)},window.NodeList&&(NodeList.prototype.forEach=NodeList.prototype.forEach||r,NodeList.prototype.every=NodeList.prototype.every||s),window.Node=window.Node||{ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9};var b=Node.ELEMENT_NODE;Node.TEXT_NODE,Node.COMMENT_NODE,Node.DOCUMENT_NODE;n.functions.firstChild=function(){if("firstElementChild"in this.element)return n(this.element.firstElementChild);for(var e=this.element.firstChild;e&&b!==e.nodeType;)e=e.nextSibling;return n(e)},n.functions.lastChild=function(){if("lastElementChild"in this.element)return n(this.element.lastElementChild);for(var e=this.element.lastChild;e&&b!==e.nodeType;)e=e.previousSibling;return n(e)},n.functions.next=function(){if("nextElementSibling"in this.element)return n(this.element.nextElementSibling);for(var e=this.element.nextSibling;e&&b!==e.nodeType;)e=e.nextSibling;return n(e)},n.functions.previous=function(){if("previousElementSibling"in this.element)return n(this.element.previousElementSibling);for(var e=this.element.previousSibling;e&&b!==e.nodeType;)e=e.previousSibling;return n(e)},n.functions.append=function(e,t){if(this.element.insertAdjacentHTML&&a(this.element,"beforeend",e))return this;t=t||this.element.tagName.toLowerCase();var n=document.createElement(t);for(c(n,e);n.childNodes.length;)this.element.appendChild(n.childNodes[0]);return this},n.functions.prepend=function(e,t){if(this.element.insertAdjacentHTML&&a(this.element,"afterbegin",e))return this;t=t||this.element.tagName.toLowerCase();var n=document.createElement(t);c(n,e);for(var i=this.element.firstChild;n.childNodes.length;)u(i,this.element,n.childNodes[0]);return this},n.functions.after=function(e,t){var n=this.element.tagName.toLowerCase();if("html"===n||"body"===n)return this;if(this.element.insertAdjacentHTML&&a(this.element,"afterend",e))return this;t=t||this.element.parentNode&&this.element.parentNode.tagName||"div";var i=document.createElement(t);c(i,e);for(var o=this.next()?this.next().element:null;i.childNodes.length;)u(o,this.element.parentNode,i.childNodes[0]);return this},n.functions.before=function(e,t){var n=this.element.tagName.toLowerCase();if("html"===n||"body"===n)return this;if(this.element.insertAdjacentHTML&&a(this.element,"beforebegin",e))return this;t=t||this.element.parentNode&&this.element.parentNode.tagName||"div";var i=document.createElement(t);for(c(i,e);i.childNodes.length;)this.element.parentNode.insertBefore(i.childNodes[0],this.element);return this},n.functions.hasClass=function(e){if(!e||e.match(/ /))return!1;var t=this.element;return!!("classList"in t&&t.classList.contains(e))||"className"in t&&(" "+t.className+" ").indexOf(" "+e+" ")>-1},n.functions.addClass=function(e){if(!e||e.match(/ /))return this;var t=this.element;return"classList"in t&&!t.classList.contains(e)?t.classList.add(e):"className"in t&&(" "+t.className+" ").indexOf(" "+e+" ")===-1&&(t.className+=" "+e),this},n.functions.removeClass=function(e){if(!e||e.match(/ /))return this;var t=this.element;if("classList"in t&&t.classList.contains(e))t.classList.remove(e);else if("className"in t){var n=" "+t.className+" ",i=new RegExp(" "+e+" ","g");n.match(i)&&(t.className=n.replace(i,"").replace(/^ /,"").replace(/ $/,""))}return this},n.functions.topLeft=function(){var e=this.element;if(e.getBoundingClientRect){var t=e.getBoundingClientRect();return{top:("top"in t?t.top:t.y)+f()-n.capabilities.adjustOffsetY,left:("left"in t?t.left:t.x)+d()-n.capabilities.adjustOffsetX}}return{top:0,left:0}},n.functions.height=function(){return this.element.offsetHeight},n.windowHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},n.functions.width=function(){return this.element.offsetWidth},n.windowWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},n.functions.remove=function(){l(this.element)};var N=/Invalid target element for this operation/;n.getCurrX=d,n.getCurrY=f,n.functions.onclick=function(e){return m(this.element,e,"click"),this},n.functions.onkeyup=function(e){return m(this.element,e,"keyup"),this},n.functions.onchange=function(e){return m(this.element,e,"change"),this};var L=/^(change)$/,T=/^(click)$/;n.functions.trigger=function(e){e.match(L)?y(this.element,h(e)):e.match(T)&&y(this.element,p(e))};var C={bubbles:!0,view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:t};n.functions.value=function(){if(t!==this.element.value)return this.element.value;switch(this.element.tagName.toLowerCase()){case"select":var e;return this.element.querySelectorAll("option").forEach(function(t,n){(t.selected||0===n)&&(e=t.value||t.getAttribute("value")||t.innerHTML)}),e;case"option":return this.element.getAttribute("value")||this.element.innerHTML;case"textarea":return this.element.innerHTML;case"input":switch(this.element.type){case"radio":case"checkbox":return this.element.getAttribute("value")||"on";default:return this.element.getAttribute("value")||t}default:throw new TypeError("Cannot get value of a non-input element")}},n.functions.setValue=function(e){if(t!==this.element.value)return this.element.value=e,this;switch(this.element.tagName.toLowerCase()){case"select":var n;this.element.querySelectorAll("option").forEach(function(t,i){n=t.value||t.getAttribute("value")||t.innerHTML,n===e&&(t.selected=!0)});break;case"option":this.element.setAttribute?this.element.setAttribute("value",e):this.element.innerHTML=e;break;case"textarea":this.element.innerHTML=e;break;case"input":this.element.setAttribute&&this.element.setAttribute("value",e);break;default:throw new TypeError("Cannot set value of a non-input element")}return this};var O=/^alpha\(opacity=([0-9]+)\)/g;n.functions.style=function(e){return e?this.element.currentStyle?(e=e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),this.element.currentStyle[e]):document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(this.element,null).getPropertyValue(e):null:null},n.functions.opacity=function(e){var n=this.element;if(t===e){if(t!==n.style.opacity)return""!==n.style.opacity?parseFloat(n.style.opacity):1;if(t!==n.style.filter)return parseFloat(n.style.filter.match(O)[1])/100;throw Error("No support for opacity on the browser")}if(t!==n.style.opacity)n.style.opacity=parseFloat(e);else{if(t===n.style.filter)throw Error("No support for opacity on the browser");n.style.filter="alpha(opacity="+(100*parseFloat(e)|0)+")"}return this},n.functions.display=function(e){var n=this.element;return t===e?n.style.display:("none"===e&&"none"!==n.style.display&&(n.style.savedDisplay=n.style.display),n.style.display=e,this)},n.functions.fadeIn=function(e,t){e=e<A?A:e;var n=this.element,i=this.opacity(),o=(1-i)*A/e,r=this;this.display(this.element.style.savedDisplay||"");var s=function(){i+=o,i>1&&(i=1),r.opacity(i),i<1?v(s):t&&t(n)};return s(),this},n.functions.fadeOut=function(e,t){e=e<A?A:e;var n=this.element,i=this.opacity(),o=i*A/e,r=this,s=function(){i-=o,i<0&&(i=0),r.opacity(i),i>0?v(s):(r.display("none"),t&&t(n))};return s(),this},n.functions.scrollY=function(e,t){if(window!==this.element)throw new Error("The function scrollY can be added to window only");t=t<A?A:t;var n=this.element,i=d(),o=f();step=Math.ceil((e-o)*A/t),direction=o<e?"down":"up";var r=function(){o+=step,"down"===direction&&o>e?o=e:"up"===direction&&o<e&&(o=e),n.scrollTo(i,o),("down"===direction&&o<e||"up"===direction&&o>e)&&v(r)};r()};var A=16;window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame,n.ready=function(e){var t=!1,n=!0,i=document.documentElement,o=document.addEventListener,r=o?"addEventListener":"attachEvent",s=o?"removeEventListener":"detachEvent",l=o?"":"on",a=function(n){"readystatechange"===n.type&&"complete"!==document.readyState||(("load"===n.type?window:document)[s](l+n.type,a,!1),!t&&(t=!0)&&e(n.type||n))},c=function(){try{i.doScroll("left")}catch(e){return void setTimeout(c,20)}a("poll")};if("complete"===document.readyState)e("lazy");else{if(!o&&i.doScroll){try{n=!window.frameElement}catch(e){}n&&c()}document[r](l+"DOMContentLoaded",a,!1),document[r](l+"readystatechange",a,!1),window[r](l+"load",a,!1)}},n.capabilities={adjustOffsetX:0,adjustOffsetY:0,absolutePosition:!1,fixedPosition:!1},n.ready(function(){w(),E(),g()})}(window.browse=window.browse||{});
